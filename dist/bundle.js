(()=>{"use strict";const e=document.getElementById("form");e.addEventListener("submit",(async function(s){s.preventDefault();let a=function(e){let t=0,s=document.querySelectorAll("._req");for(let e=0;e<s.length;e++){const a=s[e];r(a),a.classList.contains("_email")?o(a)&&(n(a),t++):""===a.value&&(n(a),t++)}return t}(),l=new FormData(e);0===a&&await async function(t,n){try{const r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});let o=await r.json();"success"===o.status?(function(){function e(){modal.style.display="none"}modal.style.display="block",document.querySelector(".btn__next").addEventListener("click",e),window.addEventListener("click",(function(t){t.target===modal&&e()}))}(),e.reset()):"error"===o.status&&alert(o.message)}catch(e){console.error("Произошла ошибка:",e)}}(t,l)}));let t="http://localhost:9090/api/registration";function n(e){e.parentElement.classList.add("_error"),e.classList.add("_error");let t=e.parentElement.querySelector(".error_text");t||(t=document.createElement("span"),t.classList.add("error_text"),e.parentElement.appendChild(t)),t.textContent="Заполните поле корректно!"}function r(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error");let t=e.parentElement.querySelector(".error_text");t&&t.remove()}function o(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}})();
//# sourceMappingURL=bundle.js.map